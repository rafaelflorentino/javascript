<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .red{
            color: red;
        }
        .green{
            background-color: green;
        }
        .black{
            background-color: black;
            color: white;
        }
    </style>
</head>
<body>
    <h1 id="berenger">Teste JS</h1>
    <p>paragrafo</p>
    <ul>
        <li>l1</li>
        <li>l2</li>
        <li>l3</li>
        <li>l4</li>
    </ul>

    <ul>
        <li class="red">2l</li>
        <li>3l</li>
    </ul>


    <p>
        <a href="#" id="oliver" class="verde"  title="Tolltip1">Oliver</a>
    </p>
    <div>
        <a href="#" id="home" title="Tolltip2">Home</a>
    </div>

    <div>
        <a href="https://www.google.com/" id="google" title="Tolltip3">Google</a>
    </div>

    <div>
        <a href="https://www.google.com/" id="abrir" title="Tolltip4">Open</a>
    </div>


    <ul id="baldwins">
        <li>Alec</li>
        <li>Daniel</li>
        <li>William</li>
        <li>Stephen</li>
    </ul>

    <div id="pai">
        <table class="dataTable" id="tabela">
            <thead>
                <th>nome</th>
                <th>idade</th>
                <th>cor</th>
            </thead>
            <tbody>
                <tr>
                    <td>John Allsopp</td>
                    <td>28</td>
                    <td>Branco</td>
                </tr>
                <tr>
                    <td>Mary Allsopp</td>
                    <td>27</td>
                    <td>Parda</td>
                </tr>
                <tr>
                    <td>Peter Park</td>
                    <td>44</td>
                    <td>negro</td>
                </tr>
                <tr>
                    <td>Kamila</td>
                    <td>19</td>
                    <td>Branca</td>
                </tr>
            </tbody>
        </table>
    </div>

    <table class="dataTable" id="tabela2">
        <thead>
            <th>nome</th>
            <th>idade</th>
            <th>cor</th>
        </thead>
        <tbody>
            <tr>
                <td>John Allsopp</td>
                <td>28</td>
                <td>Branco</td>
            </tr>
            <tr>
                <td>Mary Allsopp</td>
                <td>27</td>
                <td>Parda</td>
            </tr>
            <tr>
                <td>Peter Park</td>
                <td>44</td>
                <td>negro</td>
            </tr>
            <tr>
                <td>Kamila</td>
                <td>19</td>
                <td>Branca</td>
            </tr>
        </tbody>
    </table>

    <table class="dataTable" id="tabela3">
        <thead>
            <th>nome</th>
            <th>idade</th>
            <th>cor</th>
        </thead>
        <tbody>
            <tr>
                <td>John Allsopp</td>
                <td>28</td>
                <td>Branco</td>
            </tr>
            <tr>
                <td>Mary Allsopp</td>
                <td>27</td>
                <td>Parda</td>
            </tr>
            <tr>
                <td>Peter Park</td>
                <td>44</td>
                <td>Negro</td>
            </tr>
            <tr>
                <td>Kamila</td>
                <td>19</td>
                <td>Branca</td>
            </tr>
            <tr>
                <td>Carlos</td>
                <td>67</td>
                <td>negro</td>
            </tr>
            <tr>
                <td>Marlene</td>
                <td>87</td>
                <td>Parda</td>
            </tr>
        </tbody>
    </table>


    <script>

        // Buscar elementos tags id, tagName, classe
        var target = document.getElementById("berenger");

        if(target != null){ // veriifica se existe algum item com o id berenger 
            //alert(target.nodeName);
            console.log(target.nodeName); // NodeName mostra o nome da tag capturada
        }

        var list = document.getElementsByTagName('li');
        var secondItem = list[1]; // Pegar o segundo li
        console.log(secondItem);
        console.log(list.length); // Tamanho da lista de li


        // loop impriir todos li

        for(var i = 0; i < list.length; i++){
            console.log(list[i]);
        }

        var allLists = document.getElementsByTagName("ul");
        var  secondUl = allLists[1];
        var  li = secondUl.getElementsByTagName('li');

        console.log("Segunda lista: ");
        for(var i = 0; i < list.length; i++){
            console.log(li[i]);
        }

       
            var allElements = [];

            if(typeof document.all != "undefined"){ // Técnica de deteção de objetos
                allElements = document.all; // Para o navegador explore 5 // Document.all pega todos os elemetnos da pagina
            }else{
                allElements = document.getElementsByTagName("*");// * Pega todos os elemetnos da pagina
            }

            console.log(allElements.length);

            var pattern = new RegExp("(^| )" + "red" + "( | $)");// regex para pegar padrao especifico de strings

            for(var i = 0; i < allElements.length; i++){
                if(pattern.test(allElements[i].className)){
                    matchedArray[matchedArray.length] = allElements[i];
                }
                
            }

            // Parentescos Elemento Pai

            var oliver = document.getElementById("oliver");
            if(oliver != "undefined"){
                var paragraph = oliver.parentNode;
                console.log(paragraph);
            }
            

            // Parentescos Elemento Filho

            var baldwins = document.getElementById("baldwins");
            if(baldwins != "undefined"){
                var William = baldwins.childNodes[2]; // Pega o terceiro filho da ul
                console.log(William);
                console.log(baldwins.firstChild); // Primeiro filho
                console.log(baldwins.lastChild); // Último filho

            // Parentesco irmão
                console.log(baldwins.nextSibling); // proximo irmão
                console.log(baldwins.previousElementSibling); // proximo irmão
            }

            // Pegar atributos
            var nome = document.getElementById("oliver")
            console.log(nome.getAttribute("href")); 
            console.log(nome.getAttribute("id"));
            console.log(nome.getAttribute("class"));
            console.log(nome.href);

            // Inserir atributos
            nome.setAttribute("href", "https://www.google.com/");
            nome.setAttribute("title", "Titulo");

            // alterar estilo
            nome.style.color = "red";
            nome.style.backgroundColor = "blue";

            var body = document.getElementsByTagName("body")[0];
            body.style.backgroundColor = "gray";

            // Listrar tabelas
            var tabela = document.getElementsByTagName("table");

                // Tabelas zebradas
                
                // Pegar titulos
                var th = document.getElementsByTagName("thead");
                for (let i = 0; i < th.length; i++) {
                   th[i].classList.add('black');   
                }

                // Pegar tr impares do tbody
                var tr = document.getElementsByTagName("tbody");
                for (let i = 0; i < tr.length; i++) {

                    var linhas = tr[i].getElementsByTagName("tr");
                    for (let k = 0; k < linhas.length; k+=2) {
                        linhas[k].classList.add('green');                         
                    }
                }

                // Eventos

/*                var Sair = {
                    init: function(){
                        var link = document.getElementById("home");
                        link.onclick = Sair.cllickHandler;
                    },

                    cllickHandler: function(){
                        alert("Não acredito em tudo oque você lê no Wikipedia!");
                    }
                };
                Sair.cllickHandler();*/

                // Função de click
                var link = document.getElementById("home");
                link.onclick = cllickHandler;

                function cllickHandler(){
                    alert("Não acredito em tudo oque você lê no Wikipedia!");
                }

                // Função de click
                var google = document.getElementById("google");
                google.onclick = naoSair;

                function naoSair(){
                    if(!confirm("Você deseja sair do site:")){
                        return false;
                    }
                   // return confirm("Você deseja sair do site:"); // versão reduzida
                }

                // função open
                var abrir = document.getElementById("abrir");
                abrir.onclick = ir;

                function ir(){
                    open(this.href); // O open abri uma nova aba sem recarregar a página original, this.href pega o link dele próprio 
                    //open("https://www.google.com/"); ou link passado
                    return false;
                }

                // Quando a página e carregada
                window.onload = function () { 
                    console.log("A Página Está carregado!");
                } 

                // Quando for sair da página 
                window.onbeforeunload = function(){
                    return "Deseja mesmo sair do site?"
                };

                // Todos os links
                var todosLinks = document.getElementsByTagName('a'); // pega todos os links

                for (let i = 0; i < todosLinks.length; i++) { // fica ouvindo os links
                   todosLinks[i].onclick = msg;                  
                }
                function msg(){
                    console.log("Voce cliclou no link: "+this.href); // pega a url do link clicado
                }

                // Receptor de Evento

                //elemento.addEventListener("evento", receptorDeEvento, false); Todos Navegadores
                //elemento.attachEvent("onclick", funcaoLink.clickListenner); IE

                var minhasLi = document.getElementById("oliver");
                minhasLi.addEventListener("click", clickLi, false);
                //minhasLi.removeEventListener("click", clickLi, false); // Se quiser remover o envento
                function clickLi(event){
                    event.preventDefault();// equivale o return false, mas e usado em receptores de evento
                    console.log("clicou no oliver");
                    event.stopPropagation(); // impede que evento se propague
                }

                window.addEventListener ("load", function () { // espera toda pagina carregar para só assim executar a função
                    document.getElementById("berenger").onclick = function(){
                        console.log("berenger");
                        
                    }
                });

                window.onload = function(){// espera toda pagina carregar para só assim executar a função
                    document.getElementById("tabela").onclick = function(){
                        console.log("tabela");
                    }
                }
              


    </script>
</body>
</html>